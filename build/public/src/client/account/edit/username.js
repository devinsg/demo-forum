"use strict";define("forum/account/edit/username",["forum/account/header","api","slugify"],function(e,r,n){var a={};a.init=function(){e.init();$("#submitBtn").on("click",function e(){var a={uid:$("#inputUID").val(),username:$("#inputNewUsername").val(),password:$("#inputCurrentPassword").val()};if(!a.username){return}if(a.username===a.password){return app.alertError("[[user:username_same_as_password]]")}var s=$(this);s.addClass("disabled").find("i").removeClass("hide");r.put("/users/"+a.uid,a).then(e=>{s.removeClass("disabled").find("i").addClass("hide");var r=n(a.username);if(a.username&&r&&parseInt(a.uid,10)===parseInt(app.user.uid,10)){$('[component="header/profilelink"]').attr("href",config.relative_path+"/user/"+r);$('[component="header/profilelink/edit"]').attr("href",config.relative_path+"/user/"+r+"/edit");$('[component="header/profilelink/settings"]').attr("href",config.relative_path+"/user/"+r+"/settings");$('[component="header/username"]').text(a.username);$('[component="header/usericon"]').css("background-color",e.response["icon:bgColor"]).text(e.response["icon:text"])}ajaxify.go("user/"+r+"/edit")});return false})};return a});
//# sourceMappingURL=username.js.map