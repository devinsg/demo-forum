"use strict";define("api",()=>{const e={};const s=config.relative_path+"/api/v3";function t(e,t){e.url=e.url.startsWith("/api")?config.relative_path+e.url:s+e.url;function r(s){$.ajax(e).done(e=>{s(null,e.hasOwnProperty("status")&&e.hasOwnProperty("response")?e.response:e)}).fail(e=>{const t=e.responseJSON.status&&e.responseJSON.status.message?e.responseJSON.status.message:e.responseJSON.error;const r=new Error(t||e.statusText);if(!utils.hasLanguageKey(r.message)){app.alertError(r.message)}s(r)})}if(typeof t==="function"){r(t);return}return new Promise((e,s)=>{r(function(t,r){if(t)s(t);else e(r)})})}e.get=((e,s,r)=>t({url:e+(Object.keys(s).length?"?"+$.param(s):"")},r));e.post=((e,s,r)=>t({url:e,method:"post",data:s,headers:{"x-csrf-token":config.csrf_token}},r));e.put=((e,s,r)=>t({url:e,method:"put",data:s,headers:{"x-csrf-token":config.csrf_token}},r));e.del=((e,s,r)=>t({url:e,method:"delete",data:s,headers:{"x-csrf-token":config.csrf_token}},r));return e});
//# sourceMappingURL=api.js.map