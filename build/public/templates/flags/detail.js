!function(t){"object"==typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd&&define(t)}(function(){function n(t,e,r,a,s){return(r(e&&e.breadcrumbs&&e.breadcrumbs.length)?'\r\n<ol class="breadcrumb" itemscope="itemscope" itemprop="breadcrumb" itemtype="http://schema.org/BreadcrumbList">\r\n\t'+n.blocks.breadcrumbs(t,e,r,a,s)+"\r\n</ol>\r\n":"")+'\r\n\r\n\r\n<div class="row">\r\n\t<div class="col-sm-12">\r\n\t\t<h2 class="h4">\r\n\t\t\t'+t.__escape(r(e&&e.target_readable))+'\r\n\t\t\t<small><span class="timeago" title="'+t.__escape(r(e&&e.datetimeISO))+'"></span></small>\r\n\t\t</h2>\r\n\r\n\t\t<hr />\r\n\r\n\t\t'+(r(e&&e.type_bool&&e.type_bool.post)?'\r\n\t\t<div class="media">\r\n\t\t\t<div class="media-left">\r\n\t\t\t\t<a href="'+t.__escape(r(e&&e.config&&e.config.relative_path))+"/user/"+t.__escape(r(e&&e.target&&e.target.user&&e.target.user.userslug))+'">'+t.__escape(s(e,t,"buildAvatar",[r(e&&e.target&&e.target.user),"lg",r(e&&e.false),"media-object"]))+'</a>\r\n\t\t\t</div>\r\n\t\t\t<div class="media-body">\r\n\t\t\t\t<h4 class="media-heading"><a href="'+t.__escape(r(e&&e.config&&e.config.relative_path))+"/user/"+t.__escape(r(e&&e.target&&e.target.user&&e.target.user.userslug))+'">'+t.__escape(r(e&&e.target&&e.target.user&&e.target.user.username))+"</a></h4>\r\n\t\t\t\t"+t.__escape(r(e&&e.target&&e.target.content))+"\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t":"")+"\r\n\r\n\t\t"+(r(e&&e.type_bool&&e.type_bool.user)?'\r\n\t\t<div class="media">\r\n\t\t\t<div class="media-left">\r\n\t\t\t\t<a href="'+t.__escape(r(e&&e.config&&e.config.relative_path))+"/user/"+t.__escape(r(e&&e.target&&e.target.userslug))+'">'+t.__escape(s(e,t,"buildAvatar",[r(e&&e.target),"lg",r(e&&e.false),"media-object"]))+'</a>\r\n\t\t\t</div>\r\n\t\t\t<div class="media-body">\r\n\t\t\t\t<h4 class="media-heading"><a href="'+t.__escape(r(e&&e.config&&e.config.relative_path))+"/user/"+t.__escape(r(e&&e.target&&e.target.userslug))+'">'+t.__escape(r(e&&e.target&&e.target.username))+'</a></h4>\r\n\t\t\t\t<p class="lead">\r\n\t\t\t\t\t<a href="'+t.__escape(r(e&&e.config&&e.config.relative_path))+"/uid/"+t.__escape(r(e&&e.target&&e.target.uid))+'">[[flags:user-view]]</a> |\r\n\t\t\t\t\t<a href="'+t.__escape(r(e&&e.config&&e.config.relative_path))+"/uid/"+t.__escape(r(e&&e.target&&e.target.uid))+'/edit">[[flags:user-edit]]</a>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t':"")+"\r\n\r\n\t\t"+(r(e&&e.type_bool&&e.type_bool.empty)?'\r\n\t\t<div class="alert alert-warning">[[flags:target-purged]]</div>\r\n\t\t':"")+'\r\n\r\n\t\t<hr />\r\n\r\n\t\t<div class="row">\r\n\t\t\t<div class="col-sm-6">\r\n\t\t\t\t<form role="form" id="attributes">\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<h2 class="h4">[[flags:reports]]</h2>\r\n\t\t\t\t\t\t<ul class="list-group" component="flag/reports">\r\n\t\t\t\t\t\t\t'+n.blocks.reports(t,e,r,a,s)+'\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<h2 class="h4" for="state">[[flags:state]]</h2>\r\n\t\t\t\t\t\t<select class="form-control" id="state" name="state" disabled>\r\n\t\t\t\t\t\t\t<option value="open">[[flags:state-open]]</option>\r\n\t\t\t\t\t\t\t<option value="wip">[[flags:state-wip]]</option>\r\n\t\t\t\t\t\t\t<option value="resolved">[[flags:state-resolved]]</option>\r\n\t\t\t\t\t\t\t<option value="rejected">[[flags:state-rejected]]</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<h2 class="h4" for="assignee">[[flags:assignee]]</h2>\r\n\t\t\t\t\t\t<select class="form-control" id="assignee" name="assignee" disabled>\r\n\t\t\t\t\t\t\t<option value="">[[flags:no-assignee]]</option>\r\n\t\t\t\t\t\t\t'+n.blocks.assignees(t,e,r,a,s)+'\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button type="button" class="btn btn-block btn-primary" data-action="update">[[flags:update]]</button>\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t<hr />\r\n\r\n\t\t\t\t<form role="form">\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<h2 class="h4" for="note">[[flags:notes]]</h2>\r\n\t\t\t\t\t\t<textarea id="note" class="form-control"></textarea>\r\n\t\t\t\t\t\t<button type="button" class="btn btn-block btn-primary" data-action="appendNote">[[flags:add-note]]</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t<div component="flag/notes">\r\n\t\t\t\t\t'+(r(e&&e.notes&&e.notes.length)?"":'\r\n\t\t\t\t\t<div class="alert alert-success text-center">[[flags:no-notes]]</div>\r\n\t\t\t\t\t')+"\r\n\t\t\t\t\t"+n.blocks.notes(t,e,r,a,s)+'\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-sm-6">\r\n\t\t\t\t<h2 class="h4">[[flags:quick-actions]]</h2>\r\n\r\n\t\t\t\t<a class="btn btn-default btn-block" href="'+t.__escape(r(e&&e.config&&e.config.relative_path))+"/"+t.__escape(r(e&&e.type_path))+"/"+t.__escape(r(e&&e.targetId))+'">\r\n\t\t\t\t\t<i class="fa fa-external-link"></i>\r\n\t\t\t\t\t[[flags:go-to-target]]\r\n\t\t\t\t</a>\r\n\r\n\t\t\t\t<a class="btn btn-default btn-block" href="#" data-action="assign">\r\n\t\t\t\t\t<i class="fa fa-id-card-o"></i>\r\n\t\t\t\t\t[[flags:assign-to-me]]\r\n\t\t\t\t</a>\r\n\r\n\t\t\t\t'+(r(e&&e.type_bool&&e.type_bool.post)?"\r\n\t\t\t\t"+(r(e&&e.target&&e.target.deleted)?'\r\n\t\t\t\t<a class="btn btn-danger btn-block" href="#" data-action="purge-post"><i class="fa fa-trash"></i> [[flags:purge-post]]</a>\r\n\t\t\t\t<a class="btn btn-success btn-block" href="#" data-action="restore-post"><i class="fa fa-reply"></i><i class="fa fa-trash"></i> [[flags:restore-post]]</a>\r\n\t\t\t\t':'\r\n\t\t\t\t<a class="btn btn-danger btn-block" href="#" data-action="delete-post"><i class="fa fa-trash"></i> [[flags:delete-post]]</a>\r\n\t\t\t\t')+"\r\n\t\t\t\t":"")+"\r\n\r\n\t\t\t\t"+(r(e&&e.target&&e.target.uid)?'\r\n\t\t\t\t<div class="btn-group btn-block" data-uid="'+t.__escape(r(e&&e.target&&e.target.uid))+'">\r\n\t\t\t\t\t<button type="button" class="btn btn-default btn-block dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\r\n\t\t\t\t\t\t<i class="fa fa-street-view"></i>\r\n\t\t\t\t\t\t[[flags:flagged-user]]\r\n\t\t\t\t\t\t<span class="caret"></span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<ul class="dropdown-menu">\r\n\t\t\t\t\t\t<li><a href="'+t.__escape(r(e&&e.config&&e.config.relative_path))+"/uid/"+t.__escape(r(e&&e.target&&e.target.uid))+'">[[flags:view-profile]]</a></li>\r\n\t\t\t\t\t\t<li><a href="#" data-action="chat">[[flags:start-new-chat]]</a></li>\r\n\t\t\t\t\t\t<li role="separator" class="divider"></li>\r\n\t\t\t\t\t\t'+(r(e&&e.privileges&&e.privileges.ban)?'<li><a href="#" data-action="ban">[[user:ban_account]]</a></li>':"")+"\r\n\t\t\t\t\t\t"+(r(e&&e.privileges&&e.privileges["admin:users"])?'\r\n\t\t\t\t\t\t<li><a href="#" data-action="delete-account">[[user:delete_account_as_admin]]</a></li>\r\n\t\t\t\t\t\t<li><a href="#" data-action="delete-content">[[user:delete_content]]</a></li>\r\n\t\t\t\t\t\t<li><a href="#" data-action="delete-all">[[user:delete_all]]</a></li>\r\n\t\t\t\t\t\t':"")+"\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t\t":"")+'\r\n\r\n\t\t\t\t<hr />\r\n\r\n\t\t\t\t<h2 class="h4">[[flags:history]]</h2>\r\n\t\t\t\t<div component="flag/history">\r\n\t\t\t\t\t'+(r(e&&e.history&&e.history.length)?"":'\r\n\t\t\t\t\t<div class="alert alert-success text-center">[[flags:no-history]]</div>\r\n\t\t\t\t\t')+"\r\n\t\t\t\t\t"+n.blocks.history(t,e,r,a,s)+"\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n"}return n.blocks={history:function(r,a,s,t,n){return t(s(a&&a.history),function(e){return'\r\n\t\t\t\t\t<div class="media">\r\n\t\t\t\t\t\t<div class="media-left">\r\n\t\t\t\t\t\t\t<a href="'+r.__escape(s(a&&a.config&&a.config.relative_path))+"/user/"+r.__escape(s(a&&a.history&&a.history[e]&&a.history[e].user&&a.history[e].user.userslug))+'">'+r.__escape(n(a,r,"buildAvatar",[s(a&&a.history&&a.history[e]&&a.history[e].user),"md",s(a&&a.false),"media-object"]))+'</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="media-body">\r\n\t\t\t\t\t\t\t<h4 class="media-heading">\r\n\t\t\t\t\t\t\t\t<a href="'+r.__escape(s(a&&a.config&&a.config.relative_path))+"/user/"+r.__escape(s(a&&a.history&&a.history[e]&&a.history[e].user&&a.history[e].user.userslug))+'">'+r.__escape(s(a&&a.history&&a.history[e]&&a.history[e].user&&a.history[e].user.username))+'</a>\r\n\t\t\t\t\t\t\t\t<small><span class="timeago" title="'+r.__escape(s(a&&a.history&&a.history[e]&&a.history[e].datetimeISO))+'"></span></small>\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t'+t(s(a&&a.history&&a.history[e]&&a.history[e].fields),function(t){return'\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<span class="label label-primary">[[flags:'+r.__escape(t)+"]]</span>"+(s(a&&a.history&&a.history[e]&&a.history[e].fields&&a.history[e].fields[t])?' &rarr; <span class="label label-default">'+r.__escape(s(a&&a.history&&a.history[e]&&a.history[e].fields&&a.history[e].fields[t]))+"</span>":"")+"\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t"})+"\r\n\t\t\t\t\t\t\t\t"+t(s(a&&a.history&&a.history[e]&&a.history[e].meta),function(t){return'\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<span class="label label-'+s(a&&a.history&&a.history[e]&&a.history[e].meta&&a.history[e].meta[t]&&a.history[e].meta[t].labelClass)+'">'+s(a&&a.history&&a.history[e]&&a.history[e].meta&&a.history[e].meta[t]&&a.history[e].meta[t].key)+"</span>"+(s(a&&a.history&&a.history[e]&&a.history[e].meta&&a.history[e].meta[t]&&a.history[e].meta[t].value)?' &rarr; <span class="label label-default">{{ ./value }}</span>':"")+"\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t"})+"\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t"})},notes:function(r,a,s,t,n){return t(s(a&&a.notes),function(t,e){return'\r\n\t\t\t\t\t<div class="media" data-datetime="'+r.__escape(s(a&&a.notes&&a.notes[t]&&a.notes[t].datetime))+'" data-index="'+r.__escape(e)+'">\r\n\t\t\t\t\t\t<div class="media-left">\r\n\t\t\t\t\t\t\t<a href="'+r.__escape(s(a&&a.config&&a.config.relative_path))+"/user/"+r.__escape(s(a&&a.notes&&a.notes[t]&&a.notes[t].user&&a.notes[t].user.userslug))+'">'+r.__escape(n(a,r,"buildAvatar",[s(a&&a.notes&&a.notes[t]&&a.notes[t].user),"md",s(a&&a.false),"media-object"]))+'</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="media-body">\r\n\t\t\t\t\t\t\t<h4 class="media-heading">\r\n\t\t\t\t\t\t\t\t<a href="'+r.__escape(s(a&&a.config&&a.config.relative_path))+"/user/"+r.__escape(s(a&&a.notes&&a.notes[t]&&a.notes[t].user&&a.notes[t].user.userslug))+'">'+r.__escape(s(a&&a.notes&&a.notes[t]&&a.notes[t].user&&a.notes[t].user.username))+'</a>\r\n\t\t\t\t\t\t\t\t<small><span class="timeago" title="'+r.__escape(s(a&&a.notes&&a.notes[t]&&a.notes[t].datetimeISO))+'"></span></small>\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t'+r.__escape(s(a&&a.notes&&a.notes[t]&&a.notes[t].content))+'\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="media-right">\r\n\t\t\t\t\t\t\t<a href="#" data-action="prepare-edit"><i class="fa fa-pencil"></i></a>\r\n\t\t\t\t\t\t\t<a href="#" data-action="delete-note"><i class="fa fa-trash text-danger"></i></a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t'})},assignees:function(e,r,a,t){return t(a(r&&r.assignees),function(t){return'\r\n\t\t\t\t\t\t\t<option value="'+e.__escape(a(r&&r.assignees&&r.assignees[t]&&r.assignees[t].uid))+'">'+e.__escape(a(r&&r.assignees&&r.assignees[t]&&r.assignees[t].username))+"</option>\r\n\t\t\t\t\t\t\t"})},reports:function(e,r,a,t,s){return t(a(r&&r.reports),function(t){return'\r\n\t\t\t\t\t\t\t<li class="list-group-item">\r\n\t\t\t\t\t\t\t\t<a href="'+e.__escape(a(r&&r.config&&r.config.relative_path))+"/user/"+e.__escape(a(r&&r.reporter&&r.reporter.userslug))+'">'+e.__escape(s(r,e,"buildAvatar",[a(r&&r.reports&&r.reports[t]&&r.reports[t].reporter),"sm",a(r&&r.false)]))+'</a>\r\n\t\t\t\t\t\t\t\t&ndash; <span class="timeago" title="'+e.__escape(a(r&&r.reports&&r.reports[t]&&r.reports[t].timestampISO))+'"></span>\r\n\t\t\t\t\t\t\t\t<blockquote><em>'+e.__escape(a(r&&r.reports&&r.reports[t]&&r.reports[t].value))+"</em></blockquote>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t"})},breadcrumbs:function(a,s,n,t){return t(n(s&&s.breadcrumbs),function(t,e,r){return"\r\n\t<li"+(e===r-1?' component="breadcrumb/current"':"")+' itemscope="itemscope" itemprop="itemListElement" itemtype="http://schema.org/ListItem" '+(e===r-1?'class="active"':"")+'>\r\n\t\t<meta itemprop="position" content="'+a.__escape(e)+'" />\r\n\t\t'+(e!==r-1?'<a href="'+a.__escape(n(s&&s.breadcrumbs&&s.breadcrumbs[t]&&s.breadcrumbs[t].url))+'" itemprop="item">':"")+'\r\n\t\t\t<span itemprop="name">\r\n\t\t\t\t'+a.__escape(n(s&&s.breadcrumbs&&s.breadcrumbs[t]&&s.breadcrumbs[t].text))+"\r\n\t\t\t\t"+(e===r-1?"\r\n\t\t\t\t"+(n(s&&s["feeds:disableRSS"])?"":"\r\n\t\t\t\t"+(n(s&&s.rssFeedUrl)?'<a target="_blank" href="'+a.__escape(n(s&&s.rssFeedUrl))+'" itemprop="item"><i class="fa fa-rss-square"></i></a>':""))+"\r\n\t\t\t\t":"")+"\r\n\t\t\t</span>\r\n\t\t"+(e!==r-1?"</a>":"")+"\r\n\t</li>\r\n\t"})}},n});