!function(s){"object"==typeof module&&module.exports?module.exports=s():"function"==typeof define&&define.amd&&define(s)}(function(){function e(s,t,o,n,a){return(o(t&&t.posts&&t.posts.display_moderator_tools)?'\r\n<li class="dropdown-header">[[topic:tools]]</li>\r\n<li>\r\n\t<a component="post/edit" role="menuitem" tabindex="-1" href="#">\r\n\t\t<span class="menu-icon"><i class="fa fa-fw fa-pencil"></i></span> [[topic:edit]]\r\n\t</a>\r\n</li>\r\n<li '+(o(t&&t.posts&&t.posts.deleted)?"hidden":"")+'>\r\n\t<a component="post/delete" role="menuitem" tabindex="-1" href="#" class="'+(o(t&&t.posts&&t.posts.deleted)?"hidden":"")+'">\r\n\t\t<div class="inline menu-icon"><i class="fa fa-fw fa-trash-o"></i></div> <span>[[topic:delete]]</span>\r\n\t</a>\r\n</li>\r\n<li '+(o(t&&t.posts&&t.posts.deleted)?"":"hidden")+'>\r\n\t<a component="post/restore" role="menuitem" tabindex="-1" href="#" class="'+(o(t&&t.posts&&t.posts.deleted)?"":"hidden")+'">\r\n\t\t<div class="inline menu-icon"><i class="fa fa-fw fa-history"></i></div> <span>[[topic:restore]]</span>\r\n\t</a>\r\n</li>\r\n'+(o(t&&t.posts&&t.posts.display_purge_tools)?"\r\n<li "+(o(t&&t.posts&&t.posts.deleted)?"":"hidden")+'>\r\n\t<a component="post/purge" role="menuitem" tabindex="-1" href="#" class="'+(o(t&&t.posts&&t.posts.deleted)?"":"hidden")+'">\r\n\t\t<span class="menu-icon"><i class="fa fa-fw fa-eraser"></i></span> [[topic:purge]]\r\n\t</a>\r\n</li>\r\n':"")+"\r\n\r\n"+(o(t&&t.posts&&t.posts.display_move_tools)?'\r\n<li>\r\n\t<a component="post/move" role="menuitem" tabindex="-1" href="#">\r\n\t\t<span class="menu-icon"><i class="fa fa-fw fa-arrows"></i></span> [[topic:move]]\r\n\t</a>\r\n</li>\r\n':"")+"\r\n\r\n"+(o(t&&t.posts&&t.posts.display_change_owner_tools)?'\r\n<li>\r\n\t<a component="post/change-owner" role="menuitem" tabindex="-1" href="#">\r\n\t\t<span class="menu-icon"><i class="fa fa-fw fa-user"></i></span> [[topic:change-owner]]\r\n\t</a>\r\n</li>\r\n':"")+"\r\n\r\n"+(o(t&&t.posts&&t.posts.ip)?'\r\n<li>\r\n\t<a component="post/copy-ip" role="menuitem" tabindex="-1" href="#" data-clipboard-text="'+s.__escape(o(t&&t.posts&&t.posts.ip))+'">\r\n\t\t<span class="menu-icon" ><i class="fa fa-fw fa-copy"></i></span> [[topic:copy-ip]] '+s.__escape(o(t&&t.posts&&t.posts.ip))+"\r\n\t</a>\r\n</li>\r\n"+(o(t&&t.posts&&t.posts.display_ip_ban)?'\r\n<li>\r\n\t<a component="post/ban-ip" role="menuitem" tabindex="-1" href="#" data-ip="'+s.__escape(o(t&&t.posts&&t.posts.ip))+'">\r\n\t\t<span class="menu-icon"><i class="fa fa-fw fa-ban"></i></span> [[topic:ban-ip]] '+s.__escape(o(t&&t.posts&&t.posts.ip))+"\r\n\t</a>\r\n</li>\r\n":"")+"\r\n":"")+"\r\n":"")+"\r\n\r\n"+e.blocks["posts.tools"](s,t,o,n,a)+"\r\n\r\n"+(o(t&&t.posts&&t.posts.deleted)?"":"\r\n\t"+(o(t&&t.posts&&t.posts.display_history)?'\r\n\t<li>\r\n\t\t<a component="post/view-history" role="menuitem" tabindex="-1" href="#">\r\n\t\t\t<span class="menu-icon"><i class="fa fa-fw fa-history"></i></span> [[topic:view-history]]\r\n\t\t</a>\r\n\t</li>\r\n\t':"")+"\r\n\r\n\t"+(o(t&&t.config&&t.config.loggedIn)?'\r\n\t<li>\r\n\t\t<a component="post/bookmark" role="menuitem" tabindex="-1" href="#" data-bookmarked="'+s.__escape(o(t&&t.posts&&t.posts.bookmarked))+'">\r\n\t\t\t<span class="menu-icon">\r\n\t\t\t\t<i component="post/bookmark/on" class="fa fa-fw fa-heart '+(o(t&&t.posts&&t.posts.bookmarked)?"":"hidden")+'"></i>\r\n\t\t\t\t<i component="post/bookmark/off" class="fa fa-fw fa-heart-o '+(o(t&&t.posts&&t.posts.bookmarked)?"hidden":"")+'"></i>\r\n\t\t\t</span>\r\n\t\t\t<span class="bookmark-text">[[topic:bookmark]]</span>\r\n\t\t\t<span component="post/bookmark-count" class="bookmarkCount badge" data-bookmarks="'+s.__escape(o(t&&t.posts&&t.posts.bookmarks))+'">'+s.__escape(o(t&&t.posts&&t.posts.bookmarks))+"</span>&nbsp;\r\n\t\t</a>\r\n\t</li>\r\n\t":"")+"\r\n\r\n\t"+(o(t&&t.postSharing&&t.postSharing.length)?"\r\n\t"+(o(t&&t.config&&t.config.loggedIn)?'<li class="divider"></li>':"")+'\r\n\t<li class="dropdown-header">[[topic:share_this_post]]</li>\r\n\t':"")+"\r\n\t"+e.blocks.postSharing(s,t,o,n,a)+"\r\n")+"\r\n\r\n"+(o(t&&t.posts&&t.posts.display_flag_tools)?'\r\n<li class="divider"></li>\r\n'+(o(t&&t.posts&&t.posts.flags&&t.posts.flags.flagged)?'\r\n<li class="disabled text-muted"><a role="menuitem" tabindex="-1" href="#"><i class="fa fa-fw fa-flag"></i> [[topic:already-flagged]]</li>\r\n':'\r\n<li><a component="post/flag" role="menuitem" tabindex="-1" href="#"><i class="fa fa-fw fa-flag"></i> [[topic:flag-post]]</a></li>\r\n<li><a component="post/flagUser" role="menuitem" tabindex="-1" href="#"><i class="fa fa-fw fa-flag"></i> [[topic:flag-user]]</a></li>\r\n')+"\r\n":"")+"\r\n"+(o(t&&t.posts&&t.posts.display_moderator_tools)?"\r\n"+(o(t&&t.posts&&t.posts.flags&&t.posts.flags.exists)?'\r\n<li><a role="menuitem" tabindex="-1" href="'+s.__escape(o(t&&t.config&&t.config.relative_path))+"/flags/"+s.__escape(o(t&&t.posts&&t.posts.flags&&t.posts.flags.flagId))+'"><i class="fa fa-fw fa-exclamation-circle"></i> [[topic:view-flag-report]]</a></li>\r\n':"")+"\r\n":"")}return e.blocks={postSharing:function(t,o,n,s){return s(n(o&&o.postSharing),function(s){return'\r\n\t\t<li>\r\n\t\t\t<a role="menuitem" component="share/'+t.__escape(n(o&&o.postSharing&&o.postSharing[s]&&o.postSharing[s].id))+'" tabindex="-1" href="#"><span class="menu-icon"><i class="fa fa-fw '+t.__escape(n(o&&o.postSharing&&o.postSharing[s]&&o.postSharing[s].class))+'"></i></span> '+t.__escape(n(o&&o.postSharing&&o.postSharing[s]&&o.postSharing[s].name))+"</a>\r\n\t\t</li>\r\n\t"})},"posts.tools":function(t,o,n,s){return s(n(o&&o.posts&&o.posts.tools),function(s){return"\r\n<li "+(n(o&&o.posts&&o.posts.tools&&o.posts.tools[s]&&o.posts.tools[s].disabled)?'class="disabled" ':"")+'>\r\n\t<a component="'+t.__escape(n(o&&o.posts&&o.posts.tools&&o.posts.tools[s]&&o.posts.tools[s].action))+'" role="menuitem" tabindex="-1" href="#">\r\n\t\t<span class="menu-icon"><i class="fa fa-fw '+t.__escape(n(o&&o.posts&&o.posts.tools&&o.posts.tools[s]&&o.posts.tools[s].icon))+'"></i></span> '+n(o&&o.posts&&o.posts.tools&&o.posts.tools[s]&&o.posts.tools[s].html)+"\r\n\t</a>\r\n</li>\r\n"})}},e});